<!-- Reference the menu from your settings -->
{% assign menu = linklists[section.settings.menu] %}

<!-- Check if the menu exists and has links -->
{% if menu %}
  <ul class="menu">
    {% for link in menu.links %}
      <li class="menu-link">
        <a href="{{ link.url }}">{{ link.title }}</a>

        <!-- Check if the link has a dropdown (child links) -->
        {% if link.links.size > 0 %}
          <ul class="menu dropdown-child">
            {% for child_link in link.links %}
              <li class="menu-link">
                <a href="{{ child_link.url }}">{{ child_link.title }}</a>

                <!-- Check for a second level of dropdown (grandchild links) -->
                {% if child_link.links.size > 0 %}
                  <ul class="menu dropdown-grandchild">
                    {% for grandchild_link in child_link.links %}
                      <li class="menu-link">
                        <a href="{{ grandchild_link.url }}">{{ grandchild_link.title }}</a>
                      </li>
                    {% endfor %}
                  </ul>
                {% endif %}
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endif %}
{% schema %}
  {
    "name": "Footer",
    "settings": [
      {
        "type": "link_list",
        "id": "menu",
        "label": "Menu"
      }
    ],
    "presets": [
      {
        "name": "Footer"
      }
    ]
  }
{% endschema %}